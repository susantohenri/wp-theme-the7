jQuery(document).ready(function(a){function b(b,c){b.addClass("dt-hovered"),k.width()-(c.offset().left-k.offset().left)-c.width()<0&&c.addClass("right-overflow"),b.parents(".dt-mobile-header").length>0&&c.css({top:b.position().top-13-c.height()}),c.height()>j.height()-c.position().top&&c.addClass("show-top-buttons"),a(".searchform .submit",$header).removeClass("act"),a(".mini-search").removeClass("act"),a(".mini-search.popup-search .popup-search-wrap",$header).stop().animate({opacity:0},150,function(){a(this).css("visibility","hidden")}),clearTimeout(l),clearTimeout(m),l=setTimeout(function(){b.hasClass("dt-hovered")&&c.stop().css("visibility","visible").animate({opacity:1},150)},100)}function c(b,c){b.removeClass("dt-hovered"),clearTimeout(l),clearTimeout(m),m=setTimeout(function(){b.hasClass("dt-hovered")||(c.stop().animate({opacity:0},150,function(){a(this).css("visibility","hidden")}),setTimeout(function(){b.hasClass("dt-hovered")||(c.removeClass("right-overflow"),c.removeClass("bottom-overflow"),c.removeClass("show-top-buttons"))},400))},150),b.removeClass("dt-clicked")}function d(){a(".mobile-false .shopping-cart.show-sub-cart").each(function(){var d=a(this),e=d.children(".shopping-cart-wrap");d.on("mouseenter tap",function(a){"tap"==a.type&&a.stopPropagation(),dtGlobals.isHovering=!0,b(d,e)}),d.on("mouseleave",function(b){var d=a(this),e=d.children(".shopping-cart-wrap");dtGlobals.isHovering=!1,c(d,e)})})}function e(){a(".quantity").on("click",".plus",function(b){var c=a(this).prev("input.qty"),d=parseFloat(c.attr("max")),e=parseInt(c.attr("step"),10),f=c.val().length>0?parseInt(c.val(),10)+e:0+e;f=f>d?d:f,c.val(f).change()})}function f(){a(".quantity").on("click",".minus",function(b){var c=a(this).next("input.qty"),d=parseFloat(c.attr("min")),e=parseInt(c.attr("step"),10),f=c.val().length>0?parseInt(c.val(),10)-e:0-e;f=f<0?0:f,f=f<d?d:f,c.val(f).change()})}function g(b){var c=a(".shopping-cart-wrap");c.each(function(){var d=a(this);d.find(".cart_list").hasClass("empty")||(k.width()-(d.offset().left-k.offset().left)-d.width()<0&&d.addClass("right-overflow"),setTimeout(function(){d.stop().css("visibility","visible").animate({opacity:1},200)},300),clearTimeout(m),m=setTimeout(function(){c.stop().animate({opacity:0},200,function(){c.css("visibility","hidden"),c.removeClass("right-overflow")})},b))})}var h=a("body"),j=a(window),k=a("#page");a.fn.touchWooHoverImage=function(){return this.each(function(){var b=a(this);if(!b.hasClass("woo-ready")){var c,d;h.on("touchend",function(b){a(".mobile-true .cart-btn-on-hover .woo-buttons-on-img").removeClass("is-clicked")});var e=a(this);e.on("touchstart",function(a){c=a.originalEvent.touches[0].pageY,d=a.originalEvent.touches[0].pageX}),e.on("touchend",function(b){var f=b.originalEvent.changedTouches[0].pageX,g=b.originalEvent.changedTouches[0].pageY;if(c==g||d==f)if(e.hasClass("is-clicked"))a(b.target).parent().hasClass("woo-buttons")||(a(b.target).parent().hasClass("woo-buttons-on-img")?a(b.target).trigger("click"):window.location.href=e.find("a").first().attr("href"));else if(!a(b.target).parent().hasClass("woo-buttons"))return b.preventDefault(),a(".mobile-true .cart-btn-on-hover .woo-buttons-on-img").removeClass("is-clicked"),e.addClass("is-clicked"),!1}),b.addClass("woo-ready")}})},a.fn.touchWooHoverBtn=function(){return this.each(function(){h.on("touchend",function(b){a(".mobile-true .cart-btn-on-img .woo-buttons").removeClass("is-clicked")});var b,c,d=a(this);d.hasClass("woo-ready")||(d.on("touchstart",function(a){b=a.originalEvent.touches[0].pageY,c=a.originalEvent.touches[0].pageX}),d.on("touchend",function(e){var f=e.originalEvent.changedTouches[0].pageX,g=e.originalEvent.changedTouches[0].pageY;if(b==g||c==f){if(!(d.hasClass("is-clicked")||d.find("a.added_to_cart").length>0))return e.preventDefault(),a(".mobile-true .cart-btn-on-img .woo-buttons").removeClass("is-clicked"),d.addClass("is-clicked"),!1;a(e.target).parent().hasClass("woo-buttons")?a(e.target).trigger("click"):window.location.href=d.find("a").first().attr("href")}}),d.addClass("woo-ready"))})},$context=a("html.mobile-true"),a(".cart-btn-on-hover .woo-buttons-on-img",$context).touchWooHoverImage(),a(".cart-btn-on-img .woo-buttons",$context).touchWooHoverBtn(),a(".woocommerce-billing-fields").find("input[autofocus='autofocus']").blur(),a(".woocom-project").each(function(){var b=a(this);b.find("img.show-on-hover").length>0&&b.find("img").first().addClass("hide-on-hover")});var l,m;a(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(){d(),a(".mobile-true .shopping-cart.show-sub-cart").touchDropdownCart()}),a.fn.touchDropdownCart=function(){return this.each(function(){var d=a(this);if(!d.hasClass("item-ready")){h.on("touchend",function(b){a(".mobile-true .shopping-cart.show-sub-cart .wc-ico-cart").removeClass("is-clicked"),c(a(".wc-ico-cart"),a(".shopping-cart-wrap"))});var e=a(this).find(".wc-ico-cart"),f=e.attr("target")?e.attr("target"):"_self",g=d.children(".shopping-cart-wrap");c(e,g),e.on("touchstart",function(a){origY=a.originalEvent.touches[0].pageY,origX=a.originalEvent.touches[0].pageX}),e.on("touchend",function(d){var h=d.originalEvent.changedTouches[0].pageX,i=d.originalEvent.changedTouches[0].pageY;if(origY==i||origX==h){if(!e.hasClass("is-clicked"))return d.preventDefault(),b(e,g),a(".mobile-true .shopping-cart.show-sub-cart .wc-ico-cart").removeClass("is-clicked"),e.addClass("is-clicked"),!1;c(e,g),window.open(e.attr("href"),f)}})}})},a(document.body).on("edd_cart_item_removed edd_cart_item_added",function(b,c){var e={action:"the7_edd_cart_micro_widget"};xhr=a.ajax({type:"POST",url:dtLocal.ajaxurl,data:e,success:function(b){a(".edd-shopping-cart").replaceWith(a(b)),d(),a(".mobile-true .shopping-cart.show-sub-cart").touchDropdownCart(),g("5000")}})}),e(),f(),a(document).ajaxComplete(function(){a(".quantity").off("click",".plus"),e(),a(".quantity").off("click",".minus"),f()}),a(document).on("yith-wcan-ajax-filtered",function(b){a(".layzr-loading-on, .vc_single_image-img").layzrInitialisation(),a(".yit-wcan-container").find(".dt-css-grid").IsoLayzrInitialisation(),b=0;var c=a(".yit-wcan-container").find(".wf-container");c.IsoLayzrInitialisation(),c.addClass("cont-id-"+b).attr("data-cont-id",b),jQuery(window).off("columnsReady"),c.off("columnsReady.fixWooIsotope").one("columnsReady.fixWooIsotope.IsoInit",function(){c.addClass("dt-isotope").IsoInitialisation(".iso-item","masonry",400),c.isotope("on","layoutComplete",function(){c.trigger("IsoReady")})}),c.on("columnsReady.fixWooIsotope.IsoLayout",function(){c.isotope("layout")}),c.one("columnsReady.fixWooIsotope",function(){jQuery(".preload-me",c).heightHack()}),c.one("IsoReady",function(){c.IsoLayzrInitialisation()}),jQuery(window).off("debouncedresize.fixWooIsotope").on("debouncedresize.fixWooIsotope",function(){c.simpleCalculateColumns(c)}).trigger("debouncedresize.fixWooIsotope")}),a(document).on("ixProductFilterRequestProcessed",function(b){loadingEffects(),a(".layzr-loading-on, .vc_single_image-img").layzrInitialisation(),i=0;var c=a(".dt-products.wf-container");c.IsoLayzrInitialisation(),c.addClass("cont-id-"+i).attr("data-cont-id",i),jQuery(window).off("columnsReady"),c.off("columnsReady.fixWooFilter").one("columnsReady.fixWooFilter.IsoInit",function(){c.addClass("dt-isotope").IsoInitialisation(".iso-item","masonry",400),c.isotope("on","layoutComplete",function(){c.trigger("IsoReady")})}),c.on("columnsReady.fixWooFilter.IsoLayout",function(){c.isotope("layout")}),c.one("columnsReady.fixWooFilter",function(){jQuery(".preload-me",c).heightHack()}),c.one("IsoReady",function(){c.IsoLayzrInitialisation()}),jQuery(window).off("debouncedresize.fixWooFilter").on("debouncedresize.fixWooFilter",function(){c.simpleCalculateColumns(c),c.isotope("layout")}).trigger("debouncedresize.fixWooFilter")}),a(document.body).on("wc_fragments_loaded",function(){var b=a(".shopping-cart");if(b.exists()){var c=dtLocal.wcCartFragmentHash,d=b.first().attr("data-cart-hash");c&&c!==d&&a(document.body).trigger("wc_fragment_refresh")}});var n=!!a("span.added-to-cart").length;h.on("adding_to_cart",function(){n=!0}),h.on("wc_fragments_loaded wc_fragments_refreshed",function(){n&&(n=!1,g("5000"))}),h.on("wc_fragments_loaded wc_fragments_refreshed update_checkout checkout_error init_add_payment_method",function(){a(".woocommerce-error, .woocommerce-info, .woocommerce-message").each(function(){var b=a(this);b.find(".close-message").on("click",function(){a(this).parent().addClass("hide-message")})})}),h.on("wc_cart_button_updated",function(a,b){b.siblings(".added_to_cart.wc-forward").wrapInner('<span class="filter-popup"></span>').append(b.find("i.popup-icon"))});var o=".mobile-sticky-sidebar-overlay";!a(o).length>0&&(a(".page-inner").length>0?a(".page-inner").append('<div class="'+o+'"></div>'):h.append('<div class="'+o+'"></div>'));var p=a(o);a(".dt-wc-sidebar-collapse").length>0&&(a('<div class="wc-sidebar-toggle"></div>').prependTo("#sidebar"),a(".wc-sidebar-toggle").on("click",function(){var b=a(this);b.hasClass("active")?(b.removeClass("active"),k.removeClass("show-mobile-sidebar").addClass("closed-mobile-sidebar"),p.removeClass("active")):(a(".wc-sidebar-toggle").removeClass("active"),b.addClass("active"),k.addClass("show-mobile-sidebar").removeClass("closed-mobile-sidebar"),p.addClass("active"))}),p.on("click",function(){var b=a(this);a(this).hasClass("active")&&(a(".wc-sidebar-toggle").removeClass("active"),b.removeClass("active"),k.removeClass("show-mobile-sidebar").addClass("closed-mobile-sidebar"),p.removeClass("active"))}))});