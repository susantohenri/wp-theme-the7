jQuery(document).ready((function(e){e.the7Slider=function(t){const i={selectors:{slider:".elementor-slides-wrapper",slide:"the7-swiper-slide",slideInnerContents:".the7-slide-content",activeSlide:".swiper-slide-active",activeDuplicate:".swiper-slide-duplicate-active"},classes:{inPlaceTemplateEditable:"elementor-in-place-template-editable"},attributes:{dataAnimation:"animation"},changeableProperties:{pause_on_hover:"pauseOnHover",autoplay_speed:"delay",transition_speed:"speed",autoplay:"autoplay"}};let n,s,o,a,l,r,d,p=e(t),u={$swiperContainer:p.find(i.selectors.slider).first(),animatedSlides:{},activeElements:[]};u.$slides=u.$swiperContainer.find("> .the7-elementor-slides >."+i.selectors.slide),p.vars={sliderInitialized:!1,isInlineEditing:!1},e.data(t,"the7Slider",p),a={init:function(){n=new The7ElementorSettings(p),d=n.getWidgetType(),o=n.getSettings(),s=new The7ElementorAnimation,elementorFrontend.isEditMode()&&a.handleCTA(),this.initSlider(),p.refresh(),a.handleResize=elementorFrontend.debounce(a.handleResize,1e3)},runElementHandlers:function(e){[...e].flatMap((e=>[...e.querySelectorAll(".elementor-element")])).forEach((e=>elementorFrontend.elementsHandler.runReadyTrigger(e)))},handleElementHandlers:function(){if(!l)return;const e=Array.from(l.slides).filter((e=>e.classList.contains(l.params.slideDuplicateClass)));a.runElementHandlers(e)},handleCTA:function(){if("undefined"==typeof elementorPro)return;const e=document.querySelector(`[data-id="${n.getID()}"] .e-loop-empty-view__wrapper`);if(document.querySelector(`[data-id="${n.getID()}"] .e-loop-empty-view__wrapper_old`))return void p.css("opacity",1);if(!e)return;const t=e.attachShadow({mode:"open"});if(t.appendChild(elementorPro.modules.loopBuilder.getCtaStyles()),t.appendChild(elementorPro.modules.loopBuilder.getCtaContent(d)),a.isLoop()){t.querySelector(".e-loop-empty-view__box-cta").addEventListener("click",(()=>{elementorPro.modules.loopBuilder.createTemplate(),a.handleSlider()}))}p.css("opacity",1)},bindEvents:function(){a.initIntersectionObserver(),elementorFrontend.elements.$window.on("the7-resize-width",a.handleResize)},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width",a.handleResize),void 0!==r&&(r.unobserve(p[0]),r=void 0)},handleSlider:function(){p.vars.sliderInitialized&&(p.vars.isInlineEditing=!0,p.addClass(i.classes.inPlaceTemplateEditable),l.slideTo(0),l.autoplay.stop(),l.pagination.destroy(),l.navigation.destroy(),l.allowTouchMove=!1,l.params.autoplay.disableOnInteraction=!0,l.params.autoplay.pauseOnMouseEnter=!1,l.params.autoplay.delay=1e6,l.update())},handleResize:function(){p.vars.sliderInitialized&&(a.removeElementsAnimation(!0),a.findAnimationInElements(),a.updateActiveElements(),a.removeElementsAnimation(),a.addElementsAnimation())},getLoopedSlides:function(e){let t=a.getSlidesCount();return"all"!==o.slides_to_scroll?t:Math.trunc(t/e)*e},getSlidesCount:function(){return u.$slides.length},initIntersectionObserver:function(){"yes"===o.autoplay&&(r=elementorModules.utils.Scroll.scrollObserver({offset:"-15% 0% -15%",callback:e=>{e.isInViewport?a.swiperAutoplayStart():a.swiperAutoplayStop()}}),r.observe(p[0]))},swiperAutoplayStop(){p.vars.sliderInitialized&&!p.vars.isInlineEditing&&l.autoplay.stop()},swiperAutoplayStart(){p.vars.sliderInitialized&&!p.vars.isInlineEditing&&l.autoplay.start()},getEffect:()=>o.transition,getSlidesPerView:function(e){if("slide"===a.getEffect()){return+The7ElementorSettings.getResponsiveControlValue(o,"slides_per_view","size",e)||1}return 1},isEnoughtElements:function(e){return e<a.getSlidesCount()},getSlidesToScroll:function(e){let t=1;return"slide"===a.getEffect()&&"all"===o.slides_to_scroll&&(t=e),t},getAutoHeight:function(){let e=!0;return a.isLoop()&&(e=!1),e},getSwiperOptions:function(){let e=a.getSlidesPerView("desktop");swiperOptions={autoplay:this.getAutoplayConfig(),grabCursor:!0,initialSlide:this.getInitialSlide(),slidesPerView:e,slidesPerGroup:a.getSlidesToScroll(e),loop:a.isEnableLoop(e),loopPreventsSlide:!0,pauseOnMouseEnter:!0,speed:o.transition_speed,effect:a.getEffect(),observeParents:!0,observer:!0,handleElementorBreakpoints:!1,slideClass:i.selectors.slide},swiperOptions.autoHeight=a.getAutoHeight();swiperOptions.navigation={prevEl:u.$swiperContainer.children(".the7-swiper-button-prev")[0],nextEl:u.$swiperContainer.children(".the7-swiper-button-next")[0]},swiperOptions.pagination={el:u.$swiperContainer.children(".swiper-pagination")[0],type:"bullets",bulletActiveClass:"active",bulletClass:"owl-dot",clickable:!0,renderBullet:function(e,t){return'<button role="button" class="'+t+'" aria-label="Go to slide '+e+'1"><span></span></button>'}},swiperOptions.loopedSlides=a.getLoopedSlides(swiperOptions.slidesPerGroup),"fade"===swiperOptions.effect&&(swiperOptions.fadeEffect={crossFade:!0}),o.slides_gap&&(swiperOptions.spaceBetween=this.getSpaceBetween()),breakpoints=elementorFrontend.config.responsive.activeBreakpoints,swiperOptions.breakpoints={},Object.keys(breakpoints).forEach((e=>{let t=breakpoints[e].value;swiperOptions.breakpoints[t]={};let i=a.getSlidesPerView(e);i&&(swiperOptions.breakpoints[t].slidesPerView=i,swiperOptions.breakpoints[t].slidesPerGroup=a.getSlidesToScroll(i),swiperOptions.breakpoints[t].pagination={}),o.slides_gap&&(swiperOptions.breakpoints[t].spaceBetween=a.getSpaceBetween(e))}));let t=dtLocal.elementor.settings.container_width,n=o.widget_columns_wide_desktop_breakpoint;n&&(t=n);let s=o.wide_desk_columns;return s&&(swiperOptions.breakpoints[t]={slidesPerView:parseInt(s),slidesPerGroup:a.getSlidesToScroll(parseInt(s))}),swiperOptions=a.adjustBreakpointsConfig(swiperOptions),swiperOptions},adjustBreakpointsConfig(e){const t=elementorFrontend.config.responsive.activeBreakpoints,i=elementorFrontend.breakpoints.getBreakpointValues();return Object.keys(e.breakpoints).forEach((n=>{const s=parseInt(n);let o;if(s===t.mobile.value||s+1===t.mobile.value)o=0;else if(!t.widescreen||s!==t.widescreen.value&&s+1!==t.widescreen.value){const e=i.findIndex((e=>s===e||s+1===e));if(-1===e)return;o=i[e-1]}else o=s;e.breakpoints[o]=e.breakpoints[n],e.breakpoints[n]={slidesPerView:e.slidesPerView,slidesPerGroup:e.slidesPerGroup?e.slidesPerGroup:1},"spaceBetween"in e&&(e.breakpoints[n].spaceBetween=e.spaceBetween)})),e},getSpaceBetween(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return The7ElementorSettings.getResponsiveControlValue(o,"slides_gap","size",e)||0},getAutoplayConfig:function(){return"yes"===o.autoplay&&{stopOnLastSlide:!0,delay:o.autoplay_speed,disableOnInteraction:!0}},handlePauseOnHover:function(){if(!p.vars.sliderInitialized)return;let e=!1;"yes"===o.pause_on_hover&&(e=!0),"yes"!==o.autoplay&&(e=!1),e?u.$swiperContainer.on({mouseenter:()=>{a.swiperAutoplayStop()},mouseleave:()=>{a.swiperAutoplayStart()}}):u.$swiperContainer.off("mouseenter mouseleave")},getInitialSlide:()=>0,initSlider:async function(){const e=u.$swiperContainer;if(!e.length)return;const t=elementorFrontend.utils.swiper;l=await new t(e,this.getSwiperOptions()),p.vars.sliderInitialized=!0,l.navigation.enabled=!0,a.isEnoughtElements(l.params.slidesPerView)&&(l.navigation.enabled=!1),a.updateBreakpoint(),a.loopLazyFix(),a.updateNav(),a.findAnimationInElements(),p.css("opacity",1),a.updateActiveElements(),a.removeElementsAnimation(),setTimeout((()=>{a.updateActiveElements(),a.removeElementsAnimation(!0),a.addElementsAnimation()}),300),a.handlePauseOnHover(),l.on("slideChangeTransitionStart",(function(){})),l.on("slideChangeTransitionEnd",(function(){a.updateActiveElements(),a.removeElementsAnimation(),a.addElementsAnimation()})),l.on("snapGridLengthChange",a.updateNav),l.on("breakpoint",a.updateBreakpoint),a.handleElementHandlers(),p.find(".dt-owl-carousel-call, .elementor-owl-carousel-call, .related-projects, .slider-simple:not(.slider-masonry)").trigger("refresh.owl.carousel")},loopLazyFix:function(){if(l.params.loop){let t=e(l.wrapperEl).children("."+l.params.slideDuplicateClass);t.find(".is-loading").removeClass("is-loading"),t.layzrInitialisation()}},updateNav:function(){a.isEnoughtElements(l.params.slidesPerView)?l.navigation.enabled||(l.navigation.destroy(),l.navigation.init(),l.navigation.update(),l.pagination.destroy(),l.pagination.init(),l.pagination.render(),l.pagination.update(),l.navigation.enabled=!0):l.navigation.enabled&&(l.navigation.destroy(),l.navigation.$nextEl.addClass(l.params.navigation.disabledClass),l.navigation.$prevEl.addClass(l.params.navigation.disabledClass),l.pagination.destroy(),l.pagination.$el&&l.pagination.$el.addClass(l.params.pagination.hiddenClass),l.navigation.enabled=!1)},updateBreakpoint:function(){a.updateScrollSpeed();let e=!1,t=l.params.loop;if(l.params.loop=a.isEnableLoop(l.params.slidesPerView),!0===l.params.loop){let t=l.params.loopedSlides;l.params.loopedSlides=a.getLoopedSlides(l.params.slidesPerGroup),l.params.loopedSlides!=t&&(e=!0)}l.params.loop!==t&&l.params.loop&&(e=!0),e?(l.loopDestroy(),l.loopCreate(),l.updateSlides(),a.loopLazyFix(),a.handleElementHandlers()):l.params.loop===t||l.params.loop||(l.loopDestroy(),l.updateSlides())},isEnableLoop:function(e){return"yes"===o.infinite&&a.isEnoughtElements(e)},updateScrollSpeed:function(){l.params.speed=o.transition_speed,l.params.slidesPerGroup==l.params.slidesPerView&&(l.params.speed=l.params.slidesPerView*o.transition_speed)},updateSwiperOption:function(e){if(!p.vars.sliderInitialized)return;let t=!1;if(["slides_to_scroll","slides_gap","slides_per_view"].forEach((i=>{e.startsWith(i)&&(l.params.breakpoints=this.getSwiperOptions().breakpoints,l.currentBreakpoint=!1,l.update(),t=!0,a.findAnimationInElements(),e.startsWith("slides_per_view")&&(a.updateActiveElements(),a.addElementsAnimation()))})),t)return;const n=o[e];let s=i.changeableProperties[e],r=n;switch(e){case"autoplay_speed":l.autoplay.stop(),s="autoplay",r={delay:n,disableOnInteraction:!0};break;case"pause_on_hover":a.handlePauseOnHover();break;case"autoplay":l.autoplay.stop(),r=a.getAutoplayConfig(),a.handlePauseOnHover()}"pause_on_hover"!==e&&(l.params[s]=r),l.update(),"autoplay"===s&&"yes"===o.autoplay&&l.autoplay.start()},isLoop:function(){return"the7-slider-loop"===d},updateActiveElements:function(){if(!l.params)return;let t=[],n=l.params.slidesPerView?l.params.slidesPerView:1,s=l.activeIndex,o=s+n;for(let i=s;i<o;i++){let n=u.animatedSlides[i];void 0!==n&&(t=e.merge(e.merge([],n),t))}e(l.slides).filter(i.selectors.activeDuplicate).each((function(i){const a=e(l.slides).index(e(this));s=a,o=s+n;for(let i=a;i<o;i++){const n=u.animatedSlides[i];void 0!==n&&(t=e.merge(e.merge([],n),t))}})),u.activeElements=t},removeElementsAnimation(t=!1){if(!p.vars.sliderInitialized)return;let i=[];Object.keys(u.animatedSlides).forEach((function(t){let n=u.animatedSlides[t];i=e.merge(e.merge([],n),i)})),t||(i=i.filter((function(t){return e.inArray(t,u.activeElements)<0}))),s.resetElements(i)},addElementsAnimation(){p.vars.sliderInitialized&&s.animateElements(u.activeElements)},findAnimationInElements(){if(!p.vars.sliderInitialized)return;let t={};e(l.slides).each((function(i){const n=e(this);let o=s.findAnimationsInNode(n);o.length&&(t[i]=o)})),u.animatedSlides=t}},p.refresh=function(){o=n.getSettings(),a.unBindEvents(),a.bindEvents()},p.delete=function(){a.unBindEvents(),p.removeData("the7Slider"),l&&l.destroy()},p.updateSwiperOption=function(e){o=n.getSettings(),a.updateSwiperOption(e)},p.onDocumentLoaded=function(e){if("loop-item"===e.config.type&&a.isLoop()){if(!p.vars.sliderInitialized)return;a.handleSlider();let t=[".swiper-pagination",".the7-swiper-button"];const i=e.id;t=[...t,"style#loop-"+i,"link#font-loop-"+i,"style#loop-dynamic-"+i],t.forEach((e=>{p.find(e).remove()}))}},p.getSwiper=function(){return l},a.init()},e.fn.the7Slider=function(){return this.each((function(){var t=e(this).data("the7Slider");void 0!==t&&t.delete(),new e.the7Slider(this)}))}})),function(e){e(window).on("elementor/frontend/init",(function(){function t(e,t){t(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.the7Slider()}))}function i(t,i){let n=["autoplay_speed","pause_on_hover","autoplay","transition_speed",...The7ElementorSettings.getResponsiveSettingList("slides_gap"),"slides_to_scroll",...The7ElementorSettings.getResponsiveSettingList("slides_per_view")];const s=t.model.get("name");if(-1!==n.indexOf(s)){const t=e(i.$el).data("the7Slider");void 0!==t&&t.updateSwiperOption(s)}}elementorFrontend.hooks.addAction("frontend/element_ready/the7-slider.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/the7-slider-loop.post",t),elementorFrontend.isEditMode()?(elementorEditorAddOnChangeHandler("the7-slider",i),elementorEditorAddOnChangeHandler("the7-slider-loop",i),elementor.on("document:loaded",(function(t){e(".elementor-widget-the7-slider-loop").each((function(){const i=e(this).data("the7Slider");void 0!==i&&i.onDocumentLoaded(t)}))}))):The7ElementorAnimation.patchElementsAnimation(e(".elementor-widget-the7-slider-common .the7-swiper-slide"))}))}(jQuery);