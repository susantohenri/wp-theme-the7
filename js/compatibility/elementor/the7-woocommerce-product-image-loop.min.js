!function(e){e(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-loop-product-image.default",(function(e,t){t(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.productSlider()}))})),elementorFrontend.isEditMode()||The7ElementorAnimation.patchElementsAnimation(e(".elementor-widget-the7-woocommerce-loop-product-image .the7-overlay-content")),elementorFrontend.isEditMode()&&elementorEditorAddOnChangeHandler("the7-woocommerce-loop-product-image",(function(t,n){let i=[...The7ElementorSettings.getResponsiveSettingList("hover_visibility")];const o=t.model.get("name");if(-1!==i.indexOf(o)){const t=e(n.$el),i=t.data("productSlider");void 0!==i?i.refresh():t.productSlider()}}))})),e.productSlider=function(t){const n={slider:".elementor-slides-wrapper",slide:"the7-swiper-slide",activeSlide:".swiper-slide-active",activeDuplicate:".swiper-slide-duplicate-active"};let i,o,r,s,a,l,d,c=e(t),p=!1,m={$swiperContainer:c.find(n.slider),animatedSlides:{},activeElements:[]};m.$slides=m.$swiperContainer.find("."+n.slide);const u=c.find(".elementor-slides-wrapper");e.data(t,"productSlider",c),i={init:function(){if(c.layzrInitialisation(),l=c.find(".the7-overlay-content"),l.length&&(p=!0,r=new The7ElementorAnimation,s=r.findAnimationsInNode(l),c.find("a.post-thumbnail-rollover").length&&!elementorFrontend.isEditMode()&&(l.css("cursor","pointer"),l.on("click",(function(t){let n=e(this).parent(),i=n.hasClass("product-image-carousel-wrap")?n.find(".dt-owl-item.active a.post-thumbnail-rollover"):n.find("a.post-thumbnail-rollover");"a"===t.target.tagName.toLowerCase()||e(t.target).parents("a").length||"button"===t.target.tagName.toLowerCase()||(void 0!==i.attr("data-elementor-open-lightbox")?i.trigger("click"):window.location.href=i.attr("href"))})))),o=new The7ElementorSettings(c),a=o.getSettings(),this.initSlider(),c.refresh(),p&&(d=The7ElementorSettings.getResponsiveControlValue(a,"hover_visibility"),"hover-hide"===d))r.animateElements(s);c.one("mouseenter",(function(){c.find(".post-thumbnail-rollover img").addClass("run-img-transitions")}))},initSlider:async function(){if(u.length){const e=elementorFrontend.utils.swiper;swiper=await new e(u,this.getSwiperOptions()),i.loopLazyFix()}},getSwiperOptions:function(){swiperOptions={grabCursor:!0,loop:!0,loopPreventsSlide:!0,pauseOnMouseEnter:!0,speed:a.transition_speed,effect:a.transition,slideClass:"the7-swiper-slide",nested:!0};return swiperOptions.navigation={prevEl:m.$swiperContainer.siblings(".the7-swiper-button-prev")[0],nextEl:m.$swiperContainer.siblings(".the7-swiper-button-next")[0]},swiperOptions.pagination={el:m.$swiperContainer.siblings(".swiper-pagination")[0],type:"bullets",bulletActiveClass:"active",bulletClass:"owl-dot",clickable:!0,renderBullet:function(e,t){return'<button role="button" class="'+t+'" aria-label="Go to slide '+e+'1"><span></span></button>'}},swiperOptions},getInitialSlide:()=>0,loopLazyFix:function(){if(swiper.params.loop){let t=e(swiper.wrapperEl).children("."+swiper.params.slideDuplicateClass);t.find(".is-loading").removeClass("is-loading"),t.layzrInitialisation()}},handleResize:function(){if(p)switch(d=The7ElementorSettings.getResponsiveControlValue(a,"hover_visibility"),d){case"always":r.animateElements(s);break;case"disabled":r.resetElements(s)}},bindEvents:function(){elementorFrontend.elements.$window.on("the7-resize-width-debounce",i.handleResize),p&&c.on({mouseenter:i.mouseenter,mouseleave:i.mouseleave})},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width-debounce",i.handleResize),p&&c.off({mouseenter:i.mouseenter,mouseleave:i.mouseleave})},mouseenter:function(){switch(d){case"hover":i.addAnimation();break;case"hover-hide":i.resetAnimation()}},mouseleave:function(){switch(d){case"hover":i.resetAnimation();break;case"hover-hide":i.addAnimation()}},onOverlayTransitionsEnd:function(e){"opacity"===e.originalEvent.propertyName&&r.resetElements(s)},resetAnimation:function(){l.on("transitionend",i.onOverlayTransitionsEnd)},addAnimation:function(){l.off("transitionend",i.onOverlayTransitionsEnd),r.animateElements(s)}},c.refresh=function(){a=o.getSettings(),i.unBindEvents(),i.bindEvents(),i.handleResize()},c.delete=function(){i.unBindEvents(),c.removeData("productSlider")},i.init()},e.fn.productSlider=function(){return this.each((function(){void 0!==e(this).data("productSlider")&&e(this).removeData("productSlider"),new e.productSlider(this)}))}}(jQuery);