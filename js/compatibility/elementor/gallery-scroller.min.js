!function(t){function i(t){var i=t.find(".dt-product-gallery"),e=t.find(".dt-product-thumbs .slides").find("li:eq(0)").find("img"),a=i.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=a.find(".wp-post-image"),n=a.find("a").eq(0);r.wc_reset_variation_attr("src"),r.wc_reset_variation_attr("width"),r.wc_reset_variation_attr("height"),r.wc_reset_variation_attr("srcset"),r.wc_reset_variation_attr("sizes"),r.wc_reset_variation_attr("title"),r.wc_reset_variation_attr("data-caption"),r.wc_reset_variation_attr("alt"),r.wc_reset_variation_attr("data-src"),r.wc_reset_variation_attr("data-large_image"),r.wc_reset_variation_attr("data-large_image_width"),r.wc_reset_variation_attr("data-large_image_height"),a.wc_reset_variation_attr("data-thumb"),e.wc_reset_variation_attr("src"),e.wc_reset_variation_attr("srcset"),e.wc_reset_variation_attr("data-src"),n.wc_reset_variation_attr("href")}t.productGallery=function(i){var e,a=t(i),r=a.find(".dt-wc-product-gallery"),n=r.find(".dt-product-thumbs"),o=r.find(".dt-product-gallery"),s=o.find(".flexslider"),d=n.find(".flexslider"),c=".flex-direction-nav a",l=!!t("html.touchevents").length,m={},u="zoom-handled";a.vars={},t.data(i,"productGallery",a),m={initVars:function(){a.css("--widget-width",a.width()+"px"),a.vars.scrollMode="horizontal",n.length&&(a.vars.scrollMode=the7Utils.parseParam(n.attr("data-scroll-mode"),"horizontal"),a.vars.thumbGap=the7Utils.parseIntParam(a.css("--thumbs-spacing"),0),a.vars.colNum=the7Utils.parseIntParam(a.css("--thumbs-items"),3)),a.vars.isVertical="vertical"===a.vars.scrollMode},init:function(){m.initVars();var i=s.find(c),n=the7Utils.parseParam(r.attr("data-animation"),"slide"),l="fade"===n?400:600,u=!0,v=!1;if(o.on("click",".zoom-flash",(function(t){t.preventDefault(),o.find(".woocommerce-product-gallery__trigger").trigger("click")})),o.on("click",".woocommerce-product-gallery__trigger",(function(t){void 0!==e&&e.openPhotoswipe(t)})),o.on("click",".woocommerce-product-gallery__image",(function(t){a.hasClass("lightbox-on-click-y")&&void 0!==e&&e.openPhotoswipe(t)})),a.on("woocommerce_gallery_reset_slide_position",m.onResetSlidePosition),s.find(".slides > li").length>1&&(v=!0),s.flexslider({animation:n,animationSpeed:l,controlNav:!1,animationLoop:v,slideshow:!1,customDirectionNav:i,prevText:"",nextText:"",allowOneSlide:!0,after:function(t){m.productInitZoomForCurrentSlide(t)},sync:d,init:function(t){t.find(".slides li img").the7ImageRatio(),m.deInitZoomInSlide(t),m.productInitZoomForCurrentSlide(t),u&&d.find(".slides > li").length>1&&(u=!1,m.thumbs.init())},start:function(i){a.updateGalleryImages(),s.css("visibility","inherit"),i.find(".slides > li").length>1&&"fade"===i.vars.animation&&(namespace=i.vars.namespace,i.viewport=t('<div class="'+namespace+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container))}}),void 0===g)var g={};"undefined"!=typeof dtGlobals&&dtGlobals.addOnloadEvent((function(){if("function"==typeof t.fn.wc_product_gallery){e=o.wc_product_gallery({flexslider_enabled:!1,zoom_enabled:!1,photoswipe_enabled:!0,photoswipe_options:{shareEl:!1,closeOnScroll:!1,history:!1,hideAnimationDuration:0,showAnimationDuration:0}}).data("product_gallery")}}))},thumbs:{init:function(){var i,e,r,o,l,u,v,g=n.find(c),f=!0;d.flexslider({animation:"slide",animationLoop:!0,controlNav:!1,customDirectionNav:g,move:1,slideshow:!1,itemWidth:100,itemMargin:a.vars.thumbGap,direction:a.vars.scrollMode,prevText:"",nextText:"",directionNav:!0,asNavFor:s,init:function(a){u=a.vars.namespace;var n=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture;i=("ontouchstart"in window||n||window.DocumentTouch&&document instanceof DocumentTouch)&&a.vars.touch,e="vertical"===a.vars.direction,r=a.vars.reverse,o=a.vars.itemWidth>0,l="fade"===a.vars.animation,v=""!==a.vars.asNavFor,f&&(f=!1,a.doMath=function(){var t=a.slides.first(),i=a.vars.itemMargin,r=a.vars.minItems,n=a.vars.maxItems;e?(a.w=void 0===a.viewport?a.height():a.viewport.height(),a.isFirefox&&(a.w=a.height()),a.h=t.width(),a.boxPadding=t.outerHeight()-t.height()):(a.w=void 0===a.viewport?a.width():a.viewport.width(),a.isFirefox&&(a.w=a.width()),a.h=t.height(),a.boxPadding=t.outerWidth()-t.width()),o?(a.itemT=a.vars.itemWidth+i,a.itemM=i,a.minW=r?r*a.itemT:a.w,a.maxW=n?n*a.itemT-i:a.w,a.itemW=a.minW>a.w?(a.w-i*(r-1))/r:a.maxW<a.w?(a.w-i*(n-1))/n:a.vars.itemWidth>a.w?a.w:a.vars.itemWidth,a.visible=Math.floor(a.w/a.itemW),a.move=a.vars.move>0&&a.vars.move<a.visible?a.vars.move:a.visible,a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:a.vars.itemWidth>a.w?a.itemW*(a.count-1)+i*(a.count-1):(a.itemW+i)*a.count-a.w-i):(a.itemW=a.w,a.itemM=i,a.pagingCount=a.count,a.last=a.count-1),a.computedW=a.itemW-a.boxPadding,a.computedM=a.itemM},a.canAdvance=function(t,i){var e=v?a.pagingCount-1:a.last;return!!i||(!(!v||a.currentItem!==a.count-1||0!==t||"prev"!==a.direction)||(!(!v||0!==a.currentItem||t!==a.pagingCount-1||"next"===a.direction)||!(t===a.currentSlide&&!v)&&(!!a.vars.animationLoop||(!a.atEnd||0!==a.currentSlide||t!==e||"next"===a.direction)&&(!a.atEnd||a.currentSlide!==e||0!==t||"next"!==a.direction))))},a.flexAnimate=function(n,s,d,c,m){if(a.vars.animationLoop||n===a.currentSlide||(a.direction=n>a.currentSlide?"next":"prev"),v&&1===a.pagingCount&&(a.direction=a.currentItem<n?"next":"prev"),!a.animating&&(a.canAdvance(n,m)||d)&&a.is(":visible")){if(v&&c){var g=t(a.vars.asNavFor).data("flexslider");if(a.atEnd=0===n||n===a.count-1,g.flexAnimate(n,!0,!1,!0,m),a.direction=a.currentItem<n?"next":"prev",g.direction=a.direction,a.currentItem=n,a.slides.removeClass(u+"active-slide").eq(n).addClass(u+"active-slide"),a.currentItem>=a.currentSlide+a.visible)n=a.currentItem-a.visible+1;else{if(!(a.currentItem<a.currentSlide))return!0;n=a.currentItem}}if(a.animating=!0,a.animatingTo=n,s&&a.pause(),a.vars.before(a),o||a.slides.removeClass(u+"active-slide").eq(n).addClass(u+"active-slide"),a.atEnd=0===n||n===a.last,a.vars.directionNav){var f=u+"disabled";1===a.pagingCount?a.directionNav.addClass(f).attr("tabindex","-1"):a.vars.animationLoop?a.directionNav.removeClass(f).removeAttr("tabindex"):0===a.animatingTo?a.directionNav.removeClass(f).filter("."+u+"prev").addClass(f).attr("tabindex","-1"):a.animatingTo===a.last?a.directionNav.removeClass(f).filter("."+u+"next").addClass(f).attr("tabindex","-1"):a.directionNav.removeClass(f).removeAttr("tabindex")}if(n===a.last&&(a.vars.end(a),a.vars.animationLoop||a.pause()),l)i?(a.slides.eq(a.currentSlide).css({opacity:0,zIndex:1}),a.slides.eq(n).css({opacity:1,zIndex:2}),a.wrapup(w)):(a.slides.eq(a.currentSlide).css({zIndex:1}).animate({opacity:0},a.vars.animationSpeed,a.vars.easing),a.slides.eq(n).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing,a.wrapup));else{var h,p,_,w=e?a.slides.filter(":first").height():a.computedW;o?(h=a.vars.itemMargin,p=(_=(a.itemW+h)*a.move*a.animatingTo)>a.limit&&1!==a.visible?a.limit:_):p=0===a.currentSlide&&n===a.count-1&&a.vars.animationLoop&&"next"!==a.direction?r?(a.count+a.cloneOffset)*w:0:a.currentSlide===a.last&&0===n&&a.vars.animationLoop&&"prev"!==a.direction?r?0:(a.count+1)*w:r?(a.count-1-n+a.cloneOffset)*w:(n+a.cloneOffset)*w,a.setProps(p,"",a.vars.animationSpeed),a.transitions?(a.vars.animationLoop&&a.atEnd||(a.animating=!1,a.currentSlide=a.animatingTo),a.container.unbind("webkitTransitionEnd transitionend"),a.container.bind("webkitTransitionEnd transitionend",(function(){clearTimeout(a.ensureAnimationEnd),a.wrapup(w)})),clearTimeout(a.ensureAnimationEnd),a.ensureAnimationEnd=setTimeout((function(){a.wrapup(w)}),a.vars.animationSpeed+100)):a.container.animate(a.args,a.vars.animationSpeed,a.vars.easing,(function(){a.wrapup(w)}))}}},a.find(".slides li img").the7ImageRatio(),m.calculateProductThumbnailSize(!0),a.css("visibility","inherit"))},start:function(t){var i=0;t.on("wheel",(function(e){if(t.count<=t.visible)return!0;var a,r=e.originalEvent.deltaY,n=(new Date).getTime();return n-i<1e3||(a=r<0?t.getTarget("prev"):t.getTarget("next"),t.flexAnimate(a,t.vars.pauseOnAction),i=n),!1}))}})}},prepareImages:function(t,i){t.the7ImageRatio("update",i)},deInitZoom:function(t){t.hasClass(u),t.removeClass(u),t.trigger("zoom.destroy")},deInitZoomInSlide:function(i){i.slides.each((function(i,e){m.deInitZoom(t(e))}))},productInitZoomForCurrentSlide:function(i){if("function"==typeof t.fn.zoom){var e=a.hasClass("show-image-zoom-yes"),r=i.slides.eq(i.currentSlide);if(l||!e)return m.deInitZoom(r),!1;if(r.hasClass(u))return!1;r.addClass(u);var n=!1,o=i.computedW;if(r.each((function(i,e){if(t(e).find("img").data("large_image_width")>o)return n=!0,!1})),n){r.zoom({touch:!1}),setTimeout((function(){r.find(":hover").length&&r.trigger("mouseover")}),100)}}},calculateProductThumbnailSize:function(t){var i=d.data("flexslider");if(void 0===i)return!1;var e=!0,r=a.vars.colNum,n=a.vars.thumbGap,c=d.find(".slides li");a.clearPrecisionSizes();var l=(a.vars.isVertical?s.outerHeight():s.outerWidth())/r-n+n/r;if(l=Math.round(l),c.length<=r&&(e=!1),e?d.removeClass("stop-transition"):d.addClass("stop-transition"),a.vars.isVertical){var m=(l+n)*r-n;d.css({height:m,width:Math.ceil(d.width())}),c.css({height:l}),d.find(".slides").css({height:(l+n)*c.length}),s.css({height:m,width:Math.ceil(o.width())})}else{var u=(l+n)*r-n;d.css({width:u}),s.css({width:u})}var v=s.data("flexslider");return void 0!==v&&(v.doMath(),v.setup(),v.setProps()),t&&(a.updateThumbnailImages(),a.updateGalleryImages(),i.vars.direction=a.vars.scrollMode,i.vars.itemMargin=n,i.vars.directionNav=e,i.vars.itemWidth=l,i.doMath(),i.setup(),i.setProps()),!0},onResetSlidePosition:function(){var t=s.data("flexslider");void 0!==t&&t.flexslider(0,t.vars.pauseOnAction,!1,!0)}},a.clearPrecisionSizes=function(){s.css({width:"",height:""}),a.vars.isVertical?d.css({width:""}):d.css({width:"",height:""})},a.refresh=function(){m.initVars(),m.calculateProductThumbnailSize(!1)&&setTimeout((function(){m.calculateProductThumbnailSize(!0)}),150)},a.updateGalleryImages=function(t){var i=a.hasClass("preserve-gallery-ratio-y");void 0===t&&(t=s.find(".slides li")),m.prepareImages(t,i)},a.updateThumbnailImages=function(t){var i=a.hasClass("preserve-thumb-ratio-y");void 0===t&&(t=d.find(".slides li")),m.prepareImages(t,i)},m.init()},t.productNavigation=function(i){var e,a=t(i),r=a.find(".the7-product-navigation .img-ratio-wrapper");t.data(i,"productNavigation",a),e={init:function(){r.find("img").the7ImageRatio(),a.refresh(),t(window).on("debouncedresize",(function(){a.refresh()}))}},a.refresh=function(t){var i=a.hasClass("preserve-img-ratio-y");void 0===t&&(t=r),t.the7ImageRatio("update",i)},e.init()},t(document).on("found_variation reset_image","form.cart",(function(e,a){var r=t(this);!function(t,e,a){var r=e.find(".dt-product-gallery"),n=e.find(".dt-product-thumbs .slides"),o=n.find("li:eq(0)"),s=e.data("productGallery");if(t&&t.image&&t.image.src&&t.image.src.length>1){var d=o.find("img"),c=r.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder").eq(0),l=c.find(".wp-post-image"),m=c.find("a").eq(0);i(e);var u=n.find('li img[data-src="'+t.image.full_src+'"]');if(u.length>0)return u.trigger("click"),a.attr("dt-current-image",t.image_id),void window.setTimeout((function(){r.trigger("woocommerce_gallery_init_zoom")}),20);l.wc_set_variation_attr("src",t.image.src),l.wc_set_variation_attr("height",t.image.src_h),l.wc_set_variation_attr("width",t.image.src_w),l.wc_set_variation_attr("srcset",t.image.srcset),l.wc_set_variation_attr("sizes",t.image.sizes),l.wc_set_variation_attr("title",t.image.title),l.wc_set_variation_attr("data-caption",t.image.caption),l.wc_set_variation_attr("alt",t.image.alt),l.wc_set_variation_attr("data-src",t.image.full_src),l.wc_set_variation_attr("data-large_image",t.image.full_src),l.wc_set_variation_attr("data-large_image_width",t.image.full_src_w),l.wc_set_variation_attr("data-large_image_height",t.image.full_src_h),c.wc_set_variation_attr("data-thumb",t.image.src),d.wc_set_variation_attr("srcset",""),d.wc_set_variation_attr("src",t.image.src),d.wc_set_variation_attr("data-src",t.image.full_src),m.wc_set_variation_attr("href",t.image.full_src)}else i(e);void 0!==s&&(s.updateThumbnailImages(o),s.updateGalleryImages(r.find(".slides li:eq(0)")));window.setTimeout((function(){!function(t,i,e){var a=i.find(".dt-product-gallery"),r=t&&t.image_id?t.image_id:"";e.attr("dt-current-image")!==r&&(reset_slide_position=!0);e.attr("dt-current-image",r),reset_slide_position&&a.trigger("woocommerce_gallery_reset_slide_position")}(t,e,a),r.trigger("woocommerce_gallery_init_zoom")}),20)}(a,t(".elementor-widget-the7-woocommerce-product-images"),r)})),t.fn.productGallery=function(){return this.each((function(){"function"==typeof t.fn.flexslider?(void 0!==t(this).data("productGallery")&&t(this).removeData("productGallery"),new t.productGallery(this)):console.error("Cannot initialize productGallery, flexslider library not found!")}))},t.fn.productNavigation=function(){return this.each((function(){"function"==typeof t.fn.the7ImageRatio?(void 0!==t(this).data("productNavigation")&&t(this).removeData("productNavigation"),new t.productNavigation(this)):console.error("Cannot initialize the7ImageRatio, the7-main library not found!")}))},t(window).on("elementor/frontend/init",(function(){function t(t,i,e){var a;return void 0===e&&(e=!1),function(){var r=this,n=arguments;null!==a&&clearTimeout(a),a=window.setTimeout((function(){a=null,e||t.apply(r,n)}),i),e&&!a&&t.apply(r,n)}}elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-product-images.default",(function(i,e){e(document).ready((function(){i.productGallery();var e=t((function(){var t=i.data("productGallery");void 0!==t&&t.refresh()}),250,!1),a=i.find(".dt-wc-product-gallery"),r=a.width();setInterval((function(){a.width()!==r&&(e(),r=a.width())}),100)}))})),elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-product-navigation.default",(function(i,e){e(document).ready((function(){i.productNavigation();t((function(){var t=i.data("productNavigation");void 0!==t&&t.refresh()}),600,!1)}))}))}))}(jQuery);